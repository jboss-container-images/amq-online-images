diff --git a/templates/standard-authservice/020-PersistentVolumeClaim-postgresql.yaml b/templates/standard-authservice/020-PersistentVolumeClaim-postgresql.yaml
new file mode 100644
index 0000000..1585205
--- /dev/null
+++ b/templates/standard-authservice/020-PersistentVolumeClaim-postgresql.yaml
@@ -0,0 +1,13 @@
+apiVersion: v1
+kind: PersistentVolumeClaim
+metadata:
+  labels:
+    app: enmasse
+    template: postgresql-persistent-template
+  name: postgresql
+spec:
+  accessModes:
+  - ReadWriteOnce
+  resources:
+    requests:
+      storage: 2Gi
diff --git a/templates/standard-authservice/040-Service-postgresql-service.yaml b/templates/standard-authservice/040-Service-postgresql-service.yaml
new file mode 100644
index 0000000..919de48
--- /dev/null
+++ b/templates/standard-authservice/040-Service-postgresql-service.yaml
@@ -0,0 +1,18 @@
+apiVersion: v1
+kind: Service
+metadata:
+  annotations:
+    template.openshift.io/expose-uri: postgres://{.spec.clusterIP}:{.spec.ports[?(.name=="postgresql")].port}
+  labels:
+    app: enmasse
+    template: postgresql-persistent-template
+  name: postgresql
+spec:
+  ports:
+  - name: postgresql
+    port: 5432
+    protocol: TCP
+    targetPort: 5432
+  selector:
+    name: postgresql
+  type: ClusterIP
diff --git a/templates/standard-authservice/045-Secret-postgresql.yaml b/templates/standard-authservice/045-Secret-postgresql.yaml
new file mode 100644
index 0000000..6a565f7
--- /dev/null
+++ b/templates/standard-authservice/045-Secret-postgresql.yaml
@@ -0,0 +1,9 @@
+apiVersion: v1
+kind: Secret
+metadata:
+  name: postgresql
+data:
+  database-name: dGF0b29pbmU=
+  database-password: dW5saW1pdGVkcG93ZXI=
+  database-user: ZW1wZXJvcl9wYWxwYXRpbmU=
+type: Opaque
diff --git a/templates/standard-authservice/050-Deployment-keycloak.yaml b/templates/standard-authservice/050-Deployment-keycloak.yaml
index d1c6200..cadcbad 100644
--- a/templates/standard-authservice/050-Deployment-keycloak.yaml
+++ b/templates/standard-authservice/050-Deployment-keycloak.yaml
@@ -14,15 +14,15 @@ spec:
     spec:
       containers:
       - env:
-        - name: JAVA_OPTS
+        - name: JAVA_OPTS_APPEND
           value: -Dvertx.cacheDirBase=/tmp -Djboss.bind.address=0.0.0.0 -Djava.net.preferIPv4Stack=true
             -Xms512m -Xmx1024m
-        - name: KEYCLOAK_USER
+        - name: SSO_ADMIN_USERNAME
           valueFrom:
             secretKeyRef:
               key: admin.username
               name: keycloak-credentials
-        - name: KEYCLOAK_PASSWORD
+        - name: SSO_ADMIN_PASSWORD
           valueFrom:
             secretKeyRef:
               key: admin.password
@@ -33,7 +33,22 @@ spec:
               key: oauthUrl
               name: keycloak-config
               optional: true
-        image: ${KEYCLOAK_IMAGE}
+        - name: DB_DATABASE
+          valueFrom:
+            secretKeyRef:
+              key: database-name
+              name: postgresql
+        - name: DB_USERNAME
+          valueFrom:
+            secretKeyRef:
+              key: database-user
+              name: postgresql
+        - name: DB_PASSWORD
+          valueFrom:
+            secretKeyRef:
+              key: database-password
+              name: postgresql
+        image: redhat-sso-7/sso72-openshift:1.1
         livenessProbe:
           httpGet:
             path: /auth
@@ -58,29 +73,29 @@ spec:
           requests:
             memory: 2Gi
         volumeMounts:
-        - mountPath: /opt/jboss/keycloak/providers
+        - mountPath: /opt/eap/providers
           name: keycloak-providers
           readOnly: false
-        - mountPath: /opt/jboss/keycloak/standalone/configuration
+        - mountPath: /opt/eap/standalone/configuration
           name: keycloak-configuration
           readOnly: false
         - mountPath: /opt/enmasse/cert
           name: standard-authservice-cert
           readOnly: false
-        - mountPath: /opt/jboss/keycloak/standalone/data
+        - mountPath: /opt/eap/standalone/data
           name: keycloak-persistence
           readOnly: false
       initContainers:
       - env:
         - name: KEYCLOAK_DIR
-          value: /opt/jboss/keycloak
+          value: /opt/eap
         image: ${KEYCLOAK_PLUGIN_IMAGE}
         name: keycloak-plugin
         volumeMounts:
-        - mountPath: /opt/jboss/keycloak/providers
+        - mountPath: /opt/eap/providers
           name: keycloak-providers
           readOnly: false
-        - mountPath: /opt/jboss/keycloak/standalone/configuration
+        - mountPath: /opt/eap/standalone/configuration
           name: keycloak-configuration
           readOnly: false
         - mountPath: /opt/enmasse/cert
diff --git a/templates/standard-authservice/050-Deployment-postgresql.yaml b/templates/standard-authservice/050-Deployment-postgresql.yaml
new file mode 100644
index 0000000..644761b
--- /dev/null
+++ b/templates/standard-authservice/050-Deployment-postgresql.yaml
@@ -0,0 +1,92 @@
+apiVersion: apps.openshift.io/v1
+kind: DeploymentConfig
+metadata:
+  labels:
+    app: enmasse
+    template: postgresql-persistent-template
+  name: postgresql
+spec:
+  replicas: 1
+  selector:
+    name: postgresql
+  strategy:
+    activeDeadlineSeconds: 21600
+    recreateParams:
+      timeoutSeconds: 600
+    resources: {}
+    type: Recreate
+  template:
+    metadata:
+      labels:
+        name: postgresql
+    spec:
+      containers:
+      - env:
+        - name: POSTGRESQL_USER
+          valueFrom:
+            secretKeyRef:
+              key: database-user
+              name: postgresql
+        - name: POSTGRESQL_PASSWORD
+          valueFrom:
+            secretKeyRef:
+              key: database-password
+              name: postgresql
+        - name: POSTGRESQL_DATABASE
+          valueFrom:
+            secretKeyRef:
+              key: database-name
+              name: postgresql
+        image: postgresql:9.6
+        imagePullPolicy: IfNotPresent
+        livenessProbe:
+          exec:
+            command:
+            - /bin/sh
+            - -i
+            - -c
+            - pg_isready -h 127.0.0.1 -p 5432
+          failureThreshold: 3
+          initialDelaySeconds: 30
+          periodSeconds: 10
+          successThreshold: 1
+          timeoutSeconds: 1
+        name: postgresql
+        ports:
+        - containerPort: 5432
+          protocol: TCP
+        readinessProbe:
+          exec:
+            command:
+            - /bin/sh
+            - -i
+            - -c
+            - psql -h 127.0.0.1 -U $POSTGRESQL_USER -q -d $POSTGRESQL_DATABASE -c
+              'SELECT 1'
+          failureThreshold: 3
+          initialDelaySeconds: 5
+          periodSeconds: 10
+          successThreshold: 1
+          timeoutSeconds: 1
+        resources:
+          limits:
+            memory: 1Gi
+        volumeMounts:
+        - mountPath: /var/lib/pgsql/data
+          name: postgresql-data
+      volumes:
+      - name: postgresql-data
+        persistentVolumeClaim:
+          claimName: postgresql
+  test: false
+  triggers:
+  - imageChangeParams:
+      automatic: true
+      containerNames:
+      - postgresql
+      from:
+        kind: ImageStreamTag
+        name: postgresql:9.6
+        namespace: openshift
+    type: ImageChange
+  - type: ConfigChange
